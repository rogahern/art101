<!DOCTYPE html>
<html>
<head>
    <title>Lab 15</title>
    <link rel="stylesheet" type="text/css" href="css/lab.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="js/lab.js" defer></script>
</head>
<body>
    <main id="content">
        <h1>Challenge</h1>
        <p>Experiment with JavaScript events and jQuery</p>

        <h1>Problems</h1>
        <p>Implementing AJAX call to Star Wars API</p>

        <h1>Results</h1>
        <div id="output"></div>

        <h1>Click the button to fetch Star Wars data</h1>
        <button id="activate">Fetch Data</button>
    </main>
    
    <script>
    $('#activate').click(function() {
        $.ajax({
            url: "https://swapi.dev/api/films/1/",
            type: "GET",
            dataType : "json",
            success: function(data) {
                $('#output').empty();
                $('#output').append(`<p>Title: ${data.title}</p>`);
                $('#output').append(`<p>Director: ${data.director}</p>`);
                $('#output').append(`<p>Release Date: ${data.release_date}</p>`);
            },
            error: function (jqXHR, textStatus, errorThrown) { 
                console.log("Error:", textStatus, errorThrown);
                $('#output').empty();
                $('#output').append('<p>Failed to fetch data</p>');
            }
        })
    });
    </script>
</body>
</html>
